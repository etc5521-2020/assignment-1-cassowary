---
title: "Assignment 1"
author: "Nguyen Dang Thanh"
date: "8/18/2020"
output: html_document
---

## Data description:
 
The data is scraped from [Privacy Affairs] by [Ellis Hughes], posted on [Tidy Tuesday]. It collected data from 2018-05-12 to 2020-03-25. 

The data consist of two smaller dataset: 
1. GDPR_Violations.tsv contains information of fines and penalties which data protection authorities in EU have imposed under EU General Data Protection Regulation (GDPR). The data contain the country and authority, the date of violation, the fine price of violation in Euros, the controller that violate the rule, ... Detailed information of variable is presented below. 

2. GDPR_text.tsv contains the actual GDPR legal document. 

### Data Dictionary

# `gdpr_violations.tsv`

|variable         |class     |description |
|:----------------|:---------|:-----------|
|id               |integer   |Idetifier for fine/violation |
|picture          |character | SVG image of violation country flag |
|name             |character | Name of country where violation was enforced |
|price            |integer   | Fine price in Euros (â‚¬) |
|authority        |character | Authority that enacted the violation |
|date             |character | Date of violation |
|controller       |character | Controller of data - the violator |
|article_violated |character | Specific GDPR Article violated (see the `gdpr_text.tsv` data for specifics) |
|type             |character | Type of violation |
|source           |character | Original source (URL) of fine data |
|summary          |character | Summary of violation |

# `gdpr_text.tsv`

|variable      |class     |description |
|:-------------|:---------|:-----------|
|chapter       |double    | GDPR Chapter Number |
|chapter_title |character | Chapter title |
|article       |double    | GDPR Article number|
|article_title |character | Article title|
|sub_article   |double    | Sub article number |
|gdpr_text     |character | Raw text of article/subarticle|
|href          |character | URL to the raw text itself|



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r lib}
library(tidyverse)
library(lubridate)
library(plotly)

```

```{r data}
gdpr_violations <- readr::read_tsv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-04-21/gdpr_violations.tsv')


```

```{r}
gdpr_violations <- gdpr_violations %>% mutate(Date = as.Date(date, format = "%m/%d/%Y"),
                                              year = year(Date))
p1 <- gdpr_violations %>% filter(year > 2017) %>% ggplot(aes(x = Date, y = price, color = name ))+
  geom_point()

ggplotly(p1)
```

[Privacy Affairs]: https://www.privacyaffairs.com/gdpr-fines/

[Ellis Hughes]: https://github.com/thebioengineer

[Tidy Tuesday]: https://github.com/rfordatascience/tidytuesday
